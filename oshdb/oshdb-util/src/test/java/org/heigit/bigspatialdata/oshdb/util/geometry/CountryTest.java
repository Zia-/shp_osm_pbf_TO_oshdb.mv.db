package org.heigit.bigspatialdata.oshdb.util.geometry;

import org.heigit.bigspatialdata.oshdb.util.OSHDBBoundingBox;
import com.vividsolutions.jts.geom.MultiPolygon;

import static org.junit.Assert.assertEquals;
import org.junit.Test;

public class CountryTest {

  public CountryTest() {
  }

  @Test
  public void testGetGeometry() throws Exception {
    CountryCodeType type = CountryCodeType.GEOUNIT;
    String name = "Andorra";
    String expResult = getAndorra();
    MultiPolygon result = Country.getGeometry(type, name);
    assertEquals(expResult, result.toString());
  }

  @Test
  public void testGetBBX() throws Exception {
    String name = "France";
    OSHDBBoundingBox expResult = new OSHDBBoundingBox(-5.132802, 9.559581, 41.365912, 51.087541);

    OSHDBBoundingBox result = Country.getBoundingBox(name);
    assertEquals(expResult.toString(), result.toString());
  }

  private String getAndorra() {
    return "MULTIPOLYGON (((1.707006470000067 42.5027814740001, 1.6974980060000746 42.49446156900012, 1.6863358960000596 42.49061167500008, 1.6742436110000654 42.49050832100005, 1.6623580320000428 42.493712260000024, 1.659774210000137 42.49681284600007, 1.6569836830000781 42.49763966900008, 1.6539864500000476 42.4965286260001, 1.6503691000000629 42.49340220200014, 1.6395170490001192 42.46642710400002, 1.6074776610001038 42.456427714000085, 1.5444324140000845 42.45035573400014, 1.5388513590000628 42.44565317800007, 1.534510539000081 42.439917094000094, 1.5282060140000908 42.43423268600006, 1.5166304930001218 42.42950429300009, 1.5084656170001267 42.42867747000005, 1.4479008380000664 42.43464609800009, 1.4364286700000548 42.44095062300008, 1.4364286700000548 42.4534821580001, 1.4075932210000985 42.48676178000005, 1.4245430900000144 42.49247202600009, 1.4302274980000504 42.493557231000096, 1.449967895000043 42.50407338400004, 1.4465572510000868 42.51988637400004, 1.4289872640001136 42.531461894000074, 1.4064563390001013 42.529239808000085, 1.4097636310000894 42.540608622000065, 1.4263000900000975 42.56179596000004, 1.4264034420001224 42.56564585400008, 1.4180318600000419 42.56983164500011, 1.419272095000082 42.579262594000085, 1.4248531500001036 42.5893653360001, 1.4292973220001102 42.595385641000064, 1.4514148360001116 42.60205190100007, 1.4668144120001045 42.641455180000065, 1.4984403890000806 42.64024078400004, 1.527792602000062 42.6485348520001, 1.5430888270001333 42.64936167400003, 1.5973490810000612 42.62192148900007, 1.6083044840001435 42.61812327100003, 1.7219926350000492 42.60985504200008, 1.7133109950000858 42.58954620400007, 1.7294340410000473 42.58200144500012, 1.752688435000067 42.576678772000065, 1.761107147000132 42.567646197000016, 1.7650907800001505 42.56337209100005, 1.7399760330001186 42.561640930000095, 1.7216825770001378 42.54851511600003, 1.7106238200001371 42.527741191000075, 1.707006470000067 42.5027814740001)))";
  }

}
